\documentclass[answers,12pt]{exam}
\usepackage[utf8]{inputenc, xcolor}
\usepackage{hyperref}
\usepackage{amsmath,amsthm,amssymb,empheq}
\usepackage{float}
\usepackage{todonotes}

\newcommand{\increment}{\text{++}}
\newcommand{\fakeminus}{\text{ --- }}

\title{Analysis Solutions}
\author{Ashwin Sreevatsa}
\date{April 2023}

\begin{document}

\maketitle

\section*{Quick Remarks}
This will be a solution page for problems in Terence Tao's Analysis 1 (Fourth edition).
The problems I'm adding here are those that I worked on and solved myself.
I don't expect to add all the problems in the textbook, but rather those that I find the most interesting.
I will try and do a few problems from each section though, just to make sure I'm actually understanding the concepts properly.

\section{Introduction}

\section{Starting at the Beginning: The Natural Numbers}

\textbf{Proposition 2.1.6:} 4 is not equal to 0 
\todo{Add column proofs.}

\begin{solution}
    \[
        \begin{aligned} 
            &4 = 3\increment \text{ (definition 2.1.3)} \\
            &3\increment \text{ is a natural number (axiom 2.1, axiom 2.2).} \\
            &3\increment \neq 0 \text{ (axiom 2.3)}
        \end{aligned}
    \]
\end{solution}

\textbf{Proposition 2.1.8:} 6 is not equal to 2
\begin{solution}
    \[
        \begin{aligned}
            &6=2\\
            \implies &5 \increment = 1 \increment \text{ (axiom 2.2, def 2.1.3)}\\
            \implies &5 = 1 \text{ (axiom 2.4)}\\
            \implies &4 \increment = 0 \increment \text{ (axiom 2.2, def 2.1.3)}\\
            \implies &4 = 0 \text{ (axiom 2.4)}\\
        \end{aligned}
    \]
    We know that this is false from prop 2.1, so $6 \neq 2$.
\end{solution}

\textbf{Proposition 2.1.16:}  

\begin{solution}

\end{solution}

\textbf{Lemma 2.2.2:}  $n+0=n$

\begin{solution}
We use induction.
Let property $P(n)$ be that $n+0=n$.
$P(0): 0+0=0$, which holds by the definition of addition (1).
We want to show that $P(n) \implies P(n \increment)$.
If $n+0=n$ by the inductive hypothesis, then 
\begin{align*}
    (n \increment) + 0 &= (n+0) \increment && \text{def of addition 2}\\
    &= n \increment && \text{inductive hypothesis}
\end{align*}
So $P(n)$ holds for all natural numbers $n$.
\end{solution}

\textbf{Lemma 2.2.3:}  $n+ (m \increment) = (n+m) \increment$

\begin{solution}
Let $P(n): n+ (m \increment) = (n+m) \increment$.
Base case: 
\begin{align*}
    P(0): 0+ (m \increment) &= m \increment && (1) \\
    &= (0 + m) \increment && (1)
\end{align*}
Inductive step: $P(n) \implies P(n \increment)$
\begin{align*}
    (n \increment) + (m \increment) &= (n+ (m \increment)) \increment && (2) \\
    &= ((n+m) \increment) \increment && \text{inductive step} \\
    &= ((n \increment) + m) \increment && (2) \\
\end{align*}
By axiom 2.5, $P(n)$ holds for all natural numbers.
\end{solution}

\textbf{Corollary 2.2.3.1} (Technically not an actual problem, just a note): $n \increment = n+1$

\begin{solution}
    \begin{align*}
        n \increment &= (n+0) \increment && \text{Lemma 2.2.2} \\
        &= n + (0 \increment) && \text{Lemma 2.2.3}\\
        &= n+1 && \text{Definition of 1}
    \end{align*}
\end{solution}

\textbf{Prop 2.2.4} Commutativity of natural numbers in addition: $P(n): n+m = m+n$

\begin{solution}
    We use induction to show property $P(n): n + m = m + n$

    Base case $P(0)$
    \begin{align*}
        0+m &= m && (1) \\
        &= m+0 && \text{(lemma 2.2.2)}
    \end{align*}
    Inductive step $P(n) \implies P(n\increment)$:
    \begin{align*}
        (n \increment) + m &= (n+m) \increment && (2) \\
        &= (m+n) \increment && \text{(inductive hyp)} \\
        &= m+ (n \increment) && \text{(lemma 2.2.3)}
    \end{align*}
    By axiom 2.5, $P(n)$ holds for all natural numbers.
\end{solution}

\textbf{Prop 2.2.5} Commutativity of addition over natural numbers

\begin{solution}
    Let $P(c):= (a+b)+c = a+(b+c)$, with $a,b,c$ as natual numbers.
    We use induction to prove this.
    
    Base case: $P(0)$:
    \begin{align*}
        (a+b)+0 &= a+b && \text{lemma 2.2.2}\\
        &= a+(b+0) && \text{lemma 2.2.2}
    \end{align*}

    Inductive hypothesis: $P(n) \implies P(n \increment)$
    \begin{align*}
        (a+b)+ c \increment &= ((a+b)+c) \increment && \text{lemma 2.2.3} \\
        &=(a+(b+c))\increment && \text{inductive hypothesis} \\
        &= a + (b+c) \increment && \text{lemma 2.2.3} \\
        &= a+(b+c \increment) && \text{lemma 2.2.3}
    \end{align*}
    By axiom 2.5 (or whatever), this holds for all natural numbers and we are done.
\end{solution}

\section{Set Theory}

\section{Integers and Rationals}
\subsection{4.1 Integers}
\textbf{Lemma 4.1.3} Addition and multiplication are well-defined.
Let $a,b,a',b',c,d$ be natural numbers.
If $(a \fakeminus b)=(a' \fakeminus b')$, then $(a \fakeminus b)+(c \fakeminus d)=(a' \fakeminus b')+(c \fakeminus d)$ and $(a \fakeminus b)\times(c \fakeminus d)=(a' \fakeminus b')\times(c \fakeminus d)$.
(Note that \fakeminus{} is not the same as subtraction since subtraction hasn't yet been defined.)

\begin{solution}
\begin{proof}
    To show the first part:
    \begin{align*}
        (a \fakeminus b) + (c \fakeminus d) &= (a' \fakeminus b') + (c \fakeminus d)\\
        \iff (a+c) \fakeminus (b+d) &= (a' + c) \fakeminus (b' + d) && \text{(Def 4.1.2)}\\
        \iff (a+c) + (b'+d) &= (a' + c) + (b + d)  && \text{(Def 4.1.1)}\\
        \iff (a+b') &= (a'+b)  && \text{(Asso., comm., prop 2.2.6)}\\
        \iff (a \fakeminus b) &= (a' \fakeminus b')  && \text{(Def 4.1.1)}
    \end{align*}
    To show the second part, note that we want $(a \fakeminus b) = (a' \fakeminus b') \implies (a \fakeminus b) \times (c \fakeminus d)  = (a' \fakeminus b') \times (c \fakeminus d)$:
    \begin{align*}
        (a \fakeminus b) \times (c \fakeminus d) &= (a' \fakeminus b') \times (c \fakeminus d) \\
        \iff (ac + bd) \fakeminus (ad + bc) &= (a'c + b'd) \fakeminus (a'd + b'c)&& \text{(Def 4.1.2)} \\
        \iff (ac + bd) + (a'd + b'c) &= (a'c + b'd) + (ad + bc) && \text{(Def 4.1.1)}\\
        \iff (a+b')c + (a'+b)d &= (a'+b)c + (a+b')d && \text{(Asso., comm., dist.)}
    \end{align*}
    But clearly this last statement is true from the assumption that $(a \fakeminus b) = (a' \fakeminus b') \iff (a + b') = (a' + b)$ and substituting the terms as needed.
\end{proof}

Note for posterity: originally I was attempting to prove the second part by showing that $(a \fakeminus b) \times (c \fakeminus d) = (a' \fakeminus b') \times (c \fakeminus d) \iff (a \fakeminus b) = (a' \fakeminus b')$ similar to the first part.
This is a false statement in general (just take $c = d$), yet it didn't occur to me to question it until I got repeatedly stuck.
\end{solution}

\textbf{Lemma 4.1.3} (Laws of algebra for addition)

\begin{solution}
\begin{proof}
    Note that for most of these, we take $x = a \fakeminus b$, where $x$ is an integer and $a,b$ are natural numbers.

    Reflexivity:
    \begin{align*}
        x+y &= (a \fakeminus b) + (c \fakeminus d) \\
        &= (a+c) \fakeminus (b+d) \\
        &= (c+a) \fakeminus (d+b) \\
        &= (c \fakeminus d) + (a \fakeminus b) \\
        &= y+x
    \end{align*}

    Associativity
    \begin{align*}
        (x+y)+z &= ((a \fakeminus b) + (c \fakeminus d)) + (e \fakeminus f) \\
        &= ((a+c) \fakeminus (b+d)) + (e \fakeminus f) \\
        &= ((a+c)+e) \fakeminus ((b+d)+f) \\
        &= (a+(c+e)) \fakeminus (b+(d+f)) \\
        &= (a \fakeminus b) + ((c+e) \fakeminus (d+f)) \\
        &= (a \fakeminus b) + ((c \fakeminus d) + (e \fakeminus f)) \\
        &= x + (y+z)
    \end{align*}

    Additive identity
    \begin{align*}
        x+0 &= (a \fakeminus b) + 0 \\
        &= (a \fakeminus b) + (0 \fakeminus 0) \\
        &= (a+0) \fakeminus (b+0) \\
        &= a \fakeminus b \\
        &= x
    \end{align*}
    \begin{align*}
        x+0 &= (a \fakeminus b) + 0 \\
        &= (a \fakeminus b) + (0 \fakeminus 0) \\
        &= (a+0) \fakeminus (b+0) \\
        &= (0+a) \fakeminus (0+b) \\
        &= 0 + x
    \end{align*}

    Additive inverse
    \begin{align*}
        x + (-x) &= (a \fakeminus b) + (- (a \fakeminus b)) \\
        &= (a \fakeminus b) + (b \fakeminus a) \\
        &= (a+b) \fakeminus (b+a) \\
        &= (a+b) \fakeminus (a+b) \\ 
        &= 0 \\
        (-x)+x &= x + (-x) && \text{commutativity of integers}
    \end{align*}

    Multiplicative commutativity
    \begin{align*}
        xy &= (a \fakeminus b)(c \fakeminus d) \\
        &= (ac + bd) \fakeminus (ad + bc) \\
        &= (ca + db) \fakeminus (da + cb) \\ 
        &= (c \fakeminus d)(a \fakeminus b) \\
        &= yx
    \end{align*}

    Multiplicative associativity
    \begin{align*}
        (xy)z &= ((a \fakeminus b)(c \fakeminus d))(e \fakeminus f) \\
        &= ((ac + bd) \fakeminus (ad + bc))(e \fakeminus f) \\
        &= ((ac + bd)e + (ad + bc)f) \fakeminus ((ad + bc)e + (ac + bd)f) \\ 
        &= (ace + bde + bcf + adf) \fakeminus (bce + ade + acf + bdf) \\
        &= (a \fakeminus b)((ce + df) \fakeminus (cf + de)) \\
        &= (a \fakeminus b)((c \fakeminus d)(e \fakeminus f)) \\
        &= x(yz)
    \end{align*}

    Multiplicative identity
    \begin{align*}
        x \cdot 1 &= (a \fakeminus b) \cdot 1 \\
        &= (a \fakeminus b)(1 \fakeminus 0) \\
        &= (a \cdot 1 + b \cdot 0) \fakeminus (a \cdot 0 + b \cdot 1) \\
        &= (a \fakeminus b) \\
        &= x \\
        x \cdot 1 &= 1 \cdot x
    \end{align*}
    
    Distributive property
    \begin{align*}
        x(y+z) &= (a \fakeminus b)((c \fakeminus d) + (e \fakeminus f)) \\
        &= (a \fakeminus b) ((c+e) \fakeminus (d+f)) \\\
        &= (a(c+e) + b(d+f)) \fakeminus (b(c+e) + a(d+f)) \\
        &= (ac + bd + ae + bf) \fakeminus (bc + be + ad + af) \\
        &= (ac + bd + ae + bf) \fakeminus (be + af + ad + bc) \\
        &= ((ac +bd) \fakeminus (ad + bc)) + ((ae + bf) \fakeminus (be + af)) \\
        &= (a \fakeminus b)(c \fakeminus d) + (a \fakeminus b)(e \fakeminus f) \\
        &= xy + xz
    \end{align*}
\end{proof}
\end{solution}

\subsection{Rationals}

\textbf{Lemma 4.2.3 (Exercise 4.2.2)} 
We want to show that formal division is well-defined.
As in $a//b = a'//b' \implies a//b + c//d = a'//b' + c//d, a//b-c//d = a'//b'-c//d, a//b \cdot c//d = a'//b' \cdot c//d$

\begin{solution}
\begin{proof}
    1. $a//b=a'//b' \implies (a//b)+(c//d) = (a'//b')+(c//d)$
    \begin{align*}
        a//b = a'//b' &\implies ab' = a'b && \text{4.2.1} \\
        &\implies ab'd^2 = a'bd^2 \\
        &\implies ab'd^2 + bcb'd = a'bd^2 + bcb'd \\
        &\implies adb'd + bcb'd = a'dbd + b'cbd \\
        &\implies (ad+bc)(b'd) = (a'd + b'c)(bd) \\
        &\implies (ad + bc) // bd = (a'd + b'c)//b'd && \text{def 4.2.1}\\
        &\implies (a//b) + (c//d) = (a'//b')+(c//d) && \text{def 4.2.1}
    \end{align*}
\end{proof}
\end{solution}
\todo{Add more explanations, verify}



\section{Resources}
Terence Tao: \href{https://terrytao.wordpress.com/books/analysis-i/}{Analysis 1}


\end{document}
